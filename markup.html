<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <meta name="color-scheme" content="light dark" />
        <title> ATHN markup language specification </title
    </head>
    <body>
        <h1> ATHN markup language specification </h1>
        <p> Project ATHN is still very early in development. Suggestions and discussion are very welcome. Expect everything to change at any time. </p>
        <h2> Introduction </h2>
        <p> ATHN markup language is the backbone of the project, it's the plain text format that makes up every ATHN site. It's intended to be protocol agnostic. Right now https is used to exchange the markup files, but in theory any other protocol, maybe even a custom one specifically tailored to the needs of this project, could be used for that purpose. </p>
        <p> Generally complexity is put on the client software, making the server software simpler to make site development easier </p>
        <h2> 1 Terminology </h2>
        <p> The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in BCP14. </p>
        <p> A client is any software that recieves an ATHN markup document </p>
        <p> A server is any software that sends ATHN markup documents </p>
        <p> Whenever an example of a keyword is given in this specification it's case sensitive unless otherwise noted and has the bytes that make it up written in paretheses next to it. The bytes MUST match exactly, whitespace characters are not ignored.</p>

        <h2> 2 Line types </h2>
        <p> An ATHN markup document is analyzed line by line. Each line has a type, which can be determined by looking at the first few characters. Each line type has its own rules about how it should be processed, and not all of them should be presented to humans. </p>

        <h3> 2.1 Text lines </h3>
        <p> As the name suggests text lines just contain plain text. If the line type cannot be determined to be something else it's a text line. Text lines are rendered as is. They have one special feature: formatting</p>
        <h4> 2.1.1 Text line formatting </h4>
        <p> Text lines can contain a few special formatting character sequences, currently only 2, but more might be added in the future. They should not be rendered, but MAY be ignored. When the line ends all formatting is reset. The special sequences are as follows: </p>
        <p> <pre>\b</pre> (0x5c 0x62) </p>
        <p> Toggles bold text formatting </p>
        <p> <pre>\i</pre> (0x5c 0x69) </p>
        <p> Toggles italic text formatting </p>

        <h3> 2.2 Section lines </h3>
        <p> Section lines MUST NOT be rendered, they start with the following characters:</p>
        <p> <pre>---</pre> (0x2d 0x2d 0x2d) </p>
        <p> Followed by either: </p>
        <p> Nothing </p>
        <pre> Meta</pre> <p> (0x20 0x4d 0x65 0x74 0x61) </p>
        <pre> Header</pre> <p> (0x20 0x48 0x65 0x61 0x64 0x65 0x72) </p>
        <pre> Footer</pre> <p> (0x20 0x46 0x6f 0x6f 0x74 0x65 0x72) </p>

        <p> Whenever a section line is encountered it simply changes the current section to whichever section is specified after the "---". The default section is called "Main". If the current section is not "Main" and a section line is encountered, the current section is changed to "Main". Each section, except "Main", can only occur once in the document. The "Meta" section is REQUIRED and MUST occur as the first section in the document (meaning that the first line of all documents must be "--- Meta"). The "Header" and "Footer" sections can occur anywhere in the document. </p>
    </body>
</html>
